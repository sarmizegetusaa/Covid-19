(this["webpackJsonpcovid-19"]=this["webpackJsonpcovid-19"]||[]).push([[0],{116:function(e,t,a){e.exports=a(130)},121:function(e,t,a){},129:function(e,t,a){},130:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(20),c=a.n(i),o=(a(121),a(13)),s=a(14),l=a(16),u=a(15),d=a(23),p=a(6),m=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).toggleTimeline=function(){e.props.toggleTimeline({activeCumulative:!1,activeTimeline:!0,nowCase:3})},e.toggleCumulative=function(){e.props.toggleCumulative({activeCumulative:!0,activeTimeline:!1})},e.displayFirstPage=function(){e.props.displayFirstPage("show")},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{id:"container-header"},r.a.createElement("div",{id:"header"},r.a.createElement("div",{className:"page-btns"},r.a.createElement("button",{id:"recent-cases-btn",onClick:this.toggleCumulative}," ",r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M20.763 10.377c-.694.519-1.537.801-2.403.801-1.607 0-2.415-1.963-1.282-3.095.614-.615 1.406-1.009 2.266-1.133 1.621-.233 2.334-2.244 1.142-3.437s-3.203-.479-3.437 1.142c-.123.857-.52 1.653-1.132 2.266-1.138 1.138-3.095.329-3.095-1.282 0-.869.28-1.708.801-2.403.983-1.312.061-3.236-1.623-3.236-1.683 0-2.606 1.923-1.623 3.237.519.693.801 1.537.801 2.403 0 1.61-1.956 2.421-3.095 1.282-.614-.614-1.008-1.405-1.132-2.266-.233-1.621-2.243-2.334-3.436-1.141s-.48 3.203 1.141 3.436c.857.123 1.653.52 2.266 1.132 1.138 1.139.329 3.095-1.282 3.095-.869 0-1.707-.28-2.403-.801-1.313-.983-3.237-.061-3.237 1.623 0 1.683 1.923 2.606 3.237 1.623.693-.519 1.537-.801 2.403-.801 1.61 0 2.421 1.956 1.282 3.095-.614.615-1.406 1.009-2.266 1.133-1.621.233-2.334 2.244-1.142 3.437s3.203.479 3.437-1.142c.123-.857.52-1.653 1.132-2.266 1.139-1.138 3.095-.329 3.095 1.282 0 .869-.28 1.708-.801 2.404-.981 1.308-.064 3.235 1.623 3.235 1.677 0 2.611-1.919 1.621-3.24-.518-.689-.799-1.528-.799-2.39 0-1.615 1.957-2.432 3.095-1.293.615.615 1.009 1.406 1.133 2.267.233 1.621 2.244 2.334 3.437 1.142 1.19-1.19.483-3.206-1.146-3.437-.854-.121-1.646-.515-2.255-1.125-1.143-1.141-.337-3.102 1.274-3.102.87 0 1.708.28 2.404.801 1.309.981 3.236.064 3.236-1.623 0-1.686-1.926-2.605-3.237-1.623zm-10.728 4.296c-.547 0-.99-.443-.99-.99s.443-.99.99-.99.99.443.99.99-.443.99-.99.99zm1.262-3.143c-.858 0-1.553-.695-1.553-1.553s.695-1.553 1.553-1.553 1.553.695 1.553 1.553-.695 1.553-1.553 1.553zm2.928 2.969c-.727 0-1.315-.589-1.315-1.315s.589-1.315 1.315-1.315 1.315.589 1.315 1.315-.589 1.315-1.315 1.315z",fill:"#fff"}))," ",r.a.createElement(d.b,{to:"/"},"Recent Cases")),r.a.createElement("button",{id:"timeline-btn",onClick:this.toggleTimeline},r.a.createElement(d.b,{to:"/"}," ",r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M11 6v8h7v-2h-5v-6h-2zm10.854 7.683l1.998.159c-.132.854-.351 1.676-.652 2.46l-1.8-.905c.2-.551.353-1.123.454-1.714zm-2.548 7.826l-1.413-1.443c-.486.356-1.006.668-1.555.933l.669 1.899c.821-.377 1.591-.844 2.299-1.389zm1.226-4.309c-.335.546-.719 1.057-1.149 1.528l1.404 1.433c.583-.627 1.099-1.316 1.539-2.058l-1.794-.903zm-20.532-5.2c0 6.627 5.375 12 12.004 12 1.081 0 2.124-.156 3.12-.424l-.665-1.894c-.787.2-1.607.318-2.455.318-5.516 0-10.003-4.486-10.003-10s4.487-10 10.003-10c2.235 0 4.293.744 5.959 1.989l-2.05 2.049 7.015 1.354-1.355-7.013-2.184 2.183c-2.036-1.598-4.595-2.562-7.385-2.562-6.629 0-12.004 5.373-12.004 12zm23.773-2.359h-2.076c.163.661.261 1.344.288 2.047l2.015.161c-.01-.755-.085-1.494-.227-2.208z",fill:"#fff"}))," Timeline")),r.a.createElement("button",{id:"barchart",onClick:this.displayFirstPage},r.a.createElement(d.b,{to:"/charts"}," ",r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M7 24h-6v-6h6v6zm8-9h-6v9h6v-9zm8-4h-6v13h6v-13zm0-11l-6 1.221 1.716 1.708-6.85 6.733-3.001-3.002-7.841 7.797 1.41 1.418 6.427-6.39 2.991 2.993 8.28-8.137 1.667 1.66 1.201-6.001z",fill:"#fff"}))," Statistics")))),r.a.createElement("div",{className:"title"},"COVID-19 Global Cases")))}}]),a}(n.Component),v=Object(p.b)((function(e){return{activeCumulative:e.activeCumulative,activeTimeline:e.activeTimeline,nowCase:e.nowCase}}),(function(e){return{toggleTimeline:function(t){e({type:"TOGGLE_TIMELINE",active:t})},toggleCumulative:function(t){e({type:"TOGGLE_CUMULATIVE",active:t})},displayFirstPage:function(t){e({type:"SET_FIRSTPAGE",displayFirstPage:t})}}}))(m),f=a(134),h=a(135),b=a(10),g=a.n(b),E=a(1),y=a(132),C=a(133),O=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).timer=function(){var t;0!==e.props.timelineCases.length&&!0===e.props.activeTimeline&&(t=e.props.timelineCases.confirmed[0].length,e.props.nowCase<t-1&&e.props.addNowCase(e.props.nowCase+1))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=setInterval(this.timer,150);this.props.addIntervalId(e)}},{key:"componentWillUnmount",value:function(){clearInterval(this.props.intervalId)}},{key:"render",value:function(){var e=this,t=this.props.cases;return r.a.createElement("div",null,this.props.activeCumulative?null:r.a.createElement("div",{id:"timestamp-watch-container"},r.a.createElement("div",{id:"timestamp"}),r.a.createElement("div",{className:"watch_outline"},r.a.createElement("div",{className:"minutes",style:{animation:this.props.nowCase+1===this.props.timelineLength?"none":"spinTheClock 1s infinite linear"}})),this.props.timestamp[this.props.nowCase-4]),this.props.timelineCases["".concat(t)]?this.props.timelineCases["".concat(t)].map((function(a,n){var i=E.r().domain([e.props.minRadius,e.props.maxRadius]).range([4,30]);return r.a.createElement(y.a,{key:n,position:[null!==a[2]?a[2]:0,null!==a[3]?a[3]:0],icon:g.a.divIcon({html:"",className:"marker background-".concat(e.props.cases," ").concat(e.props.activeTimeline.toString()),iconSize:g.a.point(parseInt(i(a[e.props.nowCase])),parseInt(i(a[e.props.nowCase])),!0)})},r.a.createElement(C.a,null,r.a.createElement("div",{id:"popup",className:e.props.activeTimeline.toString()},void 0!==a[0]?a[0]:null," ",a[1],r.a.createElement("br",null),"confirmed"===t?r.a.createElement("div",null,"Confirmed: ",r.a.createElement("span",{className:"confirmed"},E.k(",")(a[e.props.nowCase]))):null,"deaths"===t?r.a.createElement("div",null,"Deaths: ",r.a.createElement("span",{className:"deaths"},E.k(",")(a[e.props.nowCase]))):null,"recovered"===t?r.a.createElement("div",null,"Recovered: ",r.a.createElement("span",{className:"recovered"},E.k(",")(a[e.props.nowCase]))):null)))})):null)}}]),a}(n.Component),w=Object(p.b)((function(e){return{locations:e.locations,cases:e.cases,activeCumulative:e.activeCumulative,activeTimeline:e.activeTimeline,timelineCases:e.timelineCases,nowCase:e.nowCase,intervalId:e.intervalId,minRadius:e.minRadius,maxRadius:e.maxRadius,timestamp:e.timestamp,timelineLength:e.timelineLength}}),(function(e){return{addNowCase:function(t){e({type:"ADD_NOWCASE",nowCase:t})},addIntervalId:function(t){e({type:"ADD_INTERVALID",intervalId:t})}}}))(O),j=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.props.locations.map((function(t,a){var n=e.props.cases,i=E.r().domain([e.props.minRadius,e.props.maxRadius]).range([7,70]);return r.a.createElement(y.a,{key:a,position:[null!==t.lat?t.lat:0,null!==t.long?t.long:0],icon:g.a.divIcon({html:"",className:"marker background-".concat(e.props.cases," ").concat(e.props.activeCumulative.toString()),iconSize:g.a.point(parseInt(i(t[n])),parseInt(i(t[n])),!0)})},r.a.createElement(C.a,null,r.a.createElement("div",{id:"popup",className:e.props.activeCumulative.toString()},null!==t.provinceState?t.provinceState:null," ",t.countryRegion,r.a.createElement("br",null),r.a.createElement("div",null,"Confirmed: ",r.a.createElement("span",{className:"confirmed"},E.k(",")(t.confirmed))),r.a.createElement("div",null,"Deaths: ",r.a.createElement("span",{className:"deaths"},E.k(",")(t.deaths))),r.a.createElement("div",null,"Recovered: ",r.a.createElement("span",{className:"recovered"},E.k(",")(t.recovered))),r.a.createElement("div",null,"Active: ",r.a.createElement("span",{className:"active"},E.k(",")(t.active))))))})))}}]),a}(n.Component),T=Object(p.b)((function(e){return{locations:e.locations,cases:e.cases,activeCumulative:e.activeCumulative,minRadius:e.minRadius,maxRadius:e.maxRadius}}))(j),k=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=[];this.props.locations.map((function(a){var n=e.props.cases;t.push(a[n])}));var a=Math.min.apply(Math,t),n=Math.max.apply(Math,t);this.props.setMinRadius(a),this.props.setMaxRadius(n)}},{key:"componentDidUpdate",value:function(){var e=this,t=[];this.props.locations.map((function(a){var n=e.props.cases;t.push(a[n])}));var a=Math.min.apply(Math,t),n=Math.max.apply(Math,t);this.props.setMinRadius(a),this.props.setMaxRadius(n)}},{key:"render",value:function(){return r.a.createElement("div",{className:"map-container"},r.a.createElement(f.a,{className:"map",center:[0,0],zoom:3},r.a.createElement(h.a,{url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors \xa9 <a href="https://carto.com/attributions">CARTO</a>'}),r.a.createElement(T,null),r.a.createElement(w,null)))}}]),a}(n.Component),x=Object(p.b)((function(e){return{locations:e.locations,cases:e.cases,timelineCases:e.timelineCases}}),(function(e){return{setMinRadius:function(t){e({type:"SET_MINRADIUS",minRadius:t})},setMaxRadius:function(t){e({type:"SET_MAXRADIUS",maxRadius:t})}}}))(k),A=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={border:{confirmed:"1px solid #ad4828",recovered:"1px solid #244624",active:"1px solid #5c5c39",deaths:"1px solid #712424"},borderTop:{confirmed:"5px solid #ad4828",recovered:"5px solid #244624",active:"5px solid #5c5c39",deaths:"5px solid #712424"}},e.handleChangeConfirm=function(){e.props.onChangeButton("confirmed"),e.props.addNowCase(3)},e.handleChangeActive=function(){e.props.onChangeButton("active"),e.props.addNowCase(3)},e.handleChangeRecovered=function(){e.props.onChangeButton("recovered"),e.props.addNowCase(3)},e.handleChangeDeaths=function(){e.props.onChangeButton("deaths"),e.props.addNowCase(3)},e.totalDashboad=function(t){if(0!==e.props.dashboardTimeline.length){var a=e.props.dashboardTimeline[t];return a?a.reduce((function(t,a){return t+ +a[e.props.nowCase]}),0):0}},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.props.cases,a=this.props.allLocations.sort((function(e,a){return a[t]-e[t]})),n=this.totalDashboad(t);return r.a.createElement("div",{className:"dashboard"},r.a.createElement("div",{id:"header-statistics",style:{border:this.state.border["".concat(t)]}},r.a.createElement("div",{id:"type-cases"},t.charAt(0).toUpperCase()+t.slice(1)),r.a.createElement("div",{id:"number-cases",className:t},this.props.activeCumulative?this.props.globalValues[t]!==isNaN&&void 0!==this.props.globalValues[t]?E.k(",")(this.props.globalValues[t]):null:void 0!==n&&n===parseInt(n,10)?E.k(",")(n):null)),r.a.createElement("ul",{style:{border:this.state.border["".concat(t)]}},this.props.activeCumulative?a.map((function(e,a){return r.a.createElement("li",{key:a},r.a.createElement("span",{className:t},E.k(",")(e[t]))," ",e.countryRegion)})):this.props.dashboardTimeline?this.props.dashboardTimeline["".concat(t)].map((function(a,n){return r.a.createElement("li",{key:n},r.a.createElement("span",{className:t},a[e.props.nowCase]>=0&&void 0!==a[e.props.nowCase]?E.k(",")(a[e.props.nowCase]):null)," ",a[1])})):null),r.a.createElement("div",{id:"cases-btns",className:"cases-btns",style:{borderTop:this.state.borderTop["".concat(t)]}},r.a.createElement("button",{className:"confirmed"===t?"btn "+t+"-btn":"btn",onClick:this.handleChangeConfirm},"Confirmed"),this.props.activeCumulative?r.a.createElement("button",{className:"active"===t?"btn "+t+"-btn":"btn",onClick:this.handleChangeActive},"Active"):null,r.a.createElement("button",{className:"recovered"===t?"btn "+t+"-btn":"btn",onClick:this.handleChangeRecovered},"Recovered"),r.a.createElement("button",{className:"deaths"===t?"btn "+t+"-btn":"btn",onClick:this.handleChangeDeaths},"Deaths")))}}]),a}(n.Component),N=Object(p.b)((function(e){return{locations:e.locations,allLocations:e.allLocations,cases:e.cases,globalValues:e.globalValues,activeCumulative:e.activeCumulative,dashboardTimeline:e.dashboardTimeline,timelineLength:e.timelineLength,nowCase:e.nowCase}}),(function(e){return{onChangeButton:function(t){e({type:"CHNAGE_CASES",cases:t})},addNowCase:function(t){e({type:"ADD_NOWCASE",nowCase:t})}}}))(A),S=a(4),D=a(46),I=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=["confirmed","deaths","recovered"],a={confirmed:[],deaths:[],recovered:[]},n={confirmed:[],deaths:[],recovered:[]},r={confirmed:[],deaths:[],recovered:[]},i={};t.forEach((function(c,o){fetch("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_".concat(c,"_global.csv")).then((function(e){return e.text()})).then((function(s){var l,u;i["".concat(c)]=s;var d,p=s.split(/\r\n|\n/),m=p[0].split(","),v=m.slice(4,m.length);e.props.setDate(v);for(var f=1;f<p.length;f++)(d=p[f].split(",")).length===m.length&&r["".concat(c)].push(d);var h=m.slice(4,m.length);e.props.setTimestamp(h),(l=n["".concat(c)]).push.apply(l,Object(D.a)(r["".concat(c)].filter((function(e){return""===e[0]})))),r["".concat(c)].filter((function(e){return""!==e[0]})).forEach((function(e){var t=a["".concat(c)].find((function(t){return t[1]===e[1]}));if(void 0===t)a["".concat(c)].push(Object(D.a)(e));else for(var n=4;n<e.length;n++)t[n]=parseInt(t[n])+0,t[n]+=parseInt(e[n])})),(u=a["".concat(c)]).push.apply(u,Object(D.a)(n["".concat(c)]));var b=a["".concat(c)][0].length;e.props.setTimelineLength(b),setTimeout((function(){a["".concat(c)].sort((function(e,t){return t[b-1]-e[b-1]}))}),700),setTimeout((function(){e.props.setDashboardTimeline(a)}),800),o===t.length-1&&setTimeout((function(){e.props.addTimelineCases(r)}),600)})).catch((function(){return e.setState({hasErrors:!0})}))})),fetch("https://covid19.mathdro.id/api/confirmed").then((function(e){return e.json()})).then((function(t){var a=t.filter((function(e){return null===e.provinceState})),n=t.filter((function(e){return null!==e.provinceState})),r=[];n.forEach((function(e){var t=r.find((function(t){return t.provinceState===e.provinceState}));void 0===t?r.push(Object(S.a)({},e)):(t.confirmed+=e.confirmed,t.recovered+=e.recovered,t.deaths+=e.deaths,t.active+=e.active)}));var i=r.concat(a);e.props.addLocations(i);var c=[];r.forEach((function(e){var t=c.find((function(t){return t.countryRegion===e.countryRegion}));void 0===t?c.push(Object(S.a)({},e)):(t.confirmed+=e.confirmed,t.recovered+=e.recovered,t.deaths+=e.deaths,t.active+=e.active)}));var o=c.concat(a),s=[];o.forEach((function(e){var t=s.find((function(t){return t.countryRegion===e.countryRegion}));void 0===t?s.push(Object(S.a)({},e)):(t.confirmed+=e.confirmed,t.recovered+=e.recovered,t.deaths+=e.deaths,t.active+=e.active)})),e.props.addAllLocations(s)})).catch((function(e){return console.log(e)})),fetch("https://covid19.mathdro.id/api").then((function(e){return e.json()})).then((function(t){var a={confirmed:t.confirmed.value,recovered:t.recovered.value,deaths:t.deaths.value,active:t.confirmed.value-(t.recovered.value+t.deaths.value)};e.props.addGlobalValues(a)})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return r.a.createElement("div",null)}}]),a}(n.Component),R=Object(p.b)((function(e){return{locations:e.locations,allLocations:e.allLocations,cases:e.cases,activeCumulative:e.activeCumulative,timelineCases:e.timelineCases,nowCase:e.nowCase,intervalId:e.intervalId,minRadius:e.minRadius,maxRadius:e.maxRadius}}),(function(e){return{setDate:function(t){e({type:"SET_DATE",date:t})},addLocations:function(t){e({type:"ADD_LOCATIONS",locations:t})},addAllLocations:function(t){e({type:"ADD_ALLLOCATIONS",allLocations:t})},addGlobalValues:function(t){e({type:"ADD_GLOBALVALUES",globalValues:t})},addTimelineCases:function(t){e({type:"ADD_TIMELINECASES",timelineCases:t})},setDashboardTimeline:function(t){e({type:"SET_DASHBOARDTIMELINE",dashboardTimeline:t})},setTimelineLength:function(t){e({type:"SET_TIMELINELENGTH",timelineLength:t})},setTimestamp:function(t){e({type:"SET_TIMESTAMP",timestamp:t})}}}))(I),L=a(27),M=a.n(L),_=a(24),V=a(56),z=a(8),B=a(136),F=function(e){return r.a.createElement("div",{className:e.props},r.a.createElement("div",{className:"chart-first-page"},r.a.createElement("div",{className:"title-left"},r.a.createElement("div",null,r.a.createElement("p",{"data-aos":"fade-right","data-aos-offset":"200","data-aos-delay":"50","data-aos-duration":"1000","data-aos-easing":"ease-in-out"},"Evolution of Covid-19 cases")),r.a.createElement("div",{"data-aos":"fade-up","data-aos-offset":"200","data-aos-delay":"500","data-aos-duration":"1000"},r.a.createElement("svg",{className:"icon-barchart",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",version:"1.1",id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 512 512",style:{enableBackground:"new 0 0 512 512",transition:"inherit",transform:"rotate(90deg);transform: scale(0.3)"}},r.a.createElement("path",{style:{fill:"#ED1C24"},d:"M419.672,390.295h67.148v75.541h-67.148V390.295z"}),r.a.createElement("path",{style:{fill:"#F68B1F"},d:"M318.951,297.967h67.148v167.869h-67.148V297.967z"}),r.a.createElement("path",{style:{fill:"#F15A22"},d:"M218.229,339.934h67.148v125.902h-67.148V339.934z"}),r.a.createElement("path",{style:{fill:"#F68B1F"},d:"M117.508,197.246h67.148v268.59h-67.148V197.246z"}),r.a.createElement("path",{style:{fill:"#FDB913"},d:"M16.787,79.738h67.148v386.098H16.787V79.738z"})))),r.a.createElement("div",{className:"title-right"},r.a.createElement("div",{"data-aos":"fade-left","data-aos-duration":"1000"},r.a.createElement("p",null,"Press one of the buttons bellow")),r.a.createElement("div",{className:"text-scroll","data-aos":"fade-left","data-aos-delay":"500","data-aos-duration":"1500"},r.a.createElement("p",null,"Or scroll for more charts")),r.a.createElement("div",{"data-aos":"zoom-in",className:"mouse-scroll"}))))};function G(){var e=window;return{innerWidth:e.innerWidth,innerHeight:e.innerHeight}}var P=a(67),U=function(e){var t=Object(n.useState)(null),a=Object(z.a)(t,2),r=a[0],i=a[1];return Object(n.useEffect)((function(){var t=e.current,a=new P.a((function(e){e.forEach((function(e){i(e.contentRect)}))}));return a.observe(t),function(){a.unobserve(t)}}),[e]),r},H=function(){var e=Object(p.c)((function(e){return e.dashboardTimeline})),t=Object(p.c)((function(e){return e.displayFirstPage})),a=Object(p.c)((function(e){return e.date})),i=[],c=Object(n.useRef)(),o=Object(n.useRef)(),s=U(o),l=Object(n.useState)(""),u=Object(z.a)(l,1)[0],d=Object(n.useState)(""),m=Object(z.a)(d,2),v=m[0],f=m[1],h=function(){var e=Object(n.useState)(G()),t=Object(z.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){function e(){r(G())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),a}().innerWidth,b=!1;function g(e){return new Promise((function(t,a){setTimeout((function(){t(!0)}),e)}))}function y(e){return C.apply(this,arguments)}function C(){return(C=Object(V.a)(M.a.mark((function t(n){var r,o,s,l,u,d,p,m,v,y,C,O,w,j,T,k,x,A,N,S,D,I,R,L,F,G,P,U,H,W,X,Y,J,q;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return q=function(e){var t=E.u("#ticker-group");return null==t.node()&&(t=e.append("text").style("font","bold ".concat(I,"px var(--sans-serif)")).style("font-variant-numeric","tabular-nums").attr("text-anchor","end").attr("id","ticker-group").attr("x",R-6).attr("y",D.top+I*(s-.45)).attr("dy","0.32em").attr("fill","#fff").text(Y(u[0][0]))),function(e,a){var n=Object(z.a)(e,1)[0];a.end().then((function(){t.text(Y(n))}));var r=new Date;Y(n)===Y(r.setDate(r.getDate()-2))&&E.u("#cases-btns").style("opacity","1")}},J=function(e){var t=E.u("#axis-group");null==t.node()&&(t=e.append("g").attr("fill","#fff").attr("id","axis-group").attr("transform","translate(0,".concat(D.top,")")));var a=E.e(G).ticks(R/160).tickSizeOuter(0).tickSizeInner(-I*(s+F.padding()));return function(e,n){t.transition(n).call(a),t.selectAll(".tick:not(:first-of-type) line").attr("stroke","#222"),t.selectAll(".tick:first-of-type text").remove(),t.select(".domain").remove()}},X=function(e,t){var a=E.l(e,t);return function(e){this.textContent=W(a(e))}},H=function(e){null==E.u("#label-group").node()&&(E.u("#label-group").selectAll().remove(),E.u("#label-group").remove());var t=e.append("g").style("font","bold 10px var(--sans-serif)").attr("fill","#fff").attr("id","label-group").style("font-variant-numeric","tabular-nums").attr("text-anchor","end").selectAll("text");return function(e,a){var n=Object(z.a)(e,2),r=(n[0],n[1]);if(t)return t=t.attr("id","label-group").data(r.slice(0,s),(function(e){return e.name})).join((function(e){return e.append("text").attr("transform",(function(e){return"translate(".concat(G((A.get(e)||e).value),",").concat(F((A.get(e)||e).rank),")")})).attr("y",F.bandwidth()/2).attr("x",-6).attr("dy","-0.25em").text((function(e){return e.name})).call((function(e){return e.append("tspan").attr("fill-opacity",1).attr("font-weight","normal").attr("x",-6).attr("dy","1.15em")}))}),(function(e){return e}),(function(e){return e.transition(a).remove().attr("transform",(function(e){return"translate(".concat(G((N.get(e)||e).value),",").concat(F((N.get(e)||e).rank),")")})).call((function(e){return e.select("tspan").tween("text",(function(e){return X(e.value,(N.get(e)||e).value)}))}))})).call((function(e){return e.transition(a).attr("transform",(function(e){return"translate(".concat(G(e.value),",").concat(F(e.rank),")")})).call((function(e){return e.select("tspan").tween("text",(function(e){return X((A.get(e)||e).value,e.value)}))}))}))}},U=function(e){E.u("#bar-group").style("display","none");var t=e.append("g").attr("fill-opacity",1).attr("id","bar-group").selectAll("rect");return function(e){var a=Object(z.a)(e,2),r=(a[0],a[1]);return t=t.data(r.slice(0,s),(function(e){return e.name})).join((function(e){return e.append("rect").attr("fill",P["".concat(n)]).attr("opacity",1).attr("height",F.bandwidth()).attr("x",G(0)).attr("y",(function(e){return F((A.get(e)||e).rank)})).attr("width",(function(e){return G((A.get(e)||e).value)-G(0)}))}),(function(e){return e}),(function(e){return e.transition(L).remove().attr("y",(function(e){return F((N.get(e)||e).rank)})).attr("width",(function(e){return G((N.get(e)||e).value)-G(0)}))})).call((function(e){return e.transition(L).attr("y",(function(e){return F(e.rank)})).attr("width",(function(e){return G(e.value)-G(0)}))}))}},l=function(e){var t=Array.from(r,(function(t){return{name:t,value:e(t)}}));t.sort((function(e,t){return E.g(e.value,t.value)}));for(var a=0;a<t.length;++a)t[a].rank=Math.min(s,a);return t},b=!1,E.u("#cases-btns").style("opacity","0"),t.next=10,g(200);case 10:null!=E.u("#axis-group").node()&&(E.v("#axis-group").remove(),E.v("#bar-group").remove(),E.u("#label-group").selectAll().remove(),E.u("#label-group").remove(),E.v("#ticker-group").remove()),f("hide-component"),e["".concat(n)].forEach((function(e,t){a.forEach((function(t,a){var n={date:new Date(t),name:e[1],value:parseInt(e[a+4])};i.push(n)}))})),null!==E.u("#axis-group")._groups[0][0]&&E.u(".chart").html(""),r=new Set(i.map((function(e){return e.name}))),o=Array.from(Object(B.b)(i,(function(e){return Object(z.a)(e,1)[0].value}),(function(e){return+e.date}),(function(e){return e.name}))).map((function(e){var t=Object(z.a)(e,2),a=t[0],n=t[1];return[new Date(a),n]})).sort((function(e,t){var a=Object(z.a)(e,1)[0],n=Object(z.a)(t,1)[0];return E.b(a,n)})),s=12,2,u=[],y=Object(_.a)(E.o(o));try{for(y.s();!(C=y.n()).done;)for(O=Object(z.a)(C.value,2),w=Object(z.a)(O[0],2),d=w[0],p=w[1],j=Object(z.a)(O[1],2),m=j[0],v=j[1],T=function(e){var t=e/2;u.push([new Date(d*(1-t)+m*t),l((function(e){return(p.get(e)||0)*(1-t)+(v.get(e)||0)*t}))])},k=0;k<2;++k)T(k)}catch(K){y.e(K)}finally{y.f()}u.push([m,l((function(e){return v.get(e)||0}))]),x=Object(B.a)(u.flatMap((function(e){return Object(z.a)(e,2)[1]})),(function(e){return e.name})),A=new Map(x.flatMap((function(e){var t=Object(z.a)(e,2)[1];return E.o(t,(function(e,t){return[t,e]}))}))),N=new Map(x.flatMap((function(e){var t=Object(z.a)(e,2)[1];return E.o(t)}))),250,S=E.u(c.current),D={top:16,right:6,bottom:6,left:0},h<410?(R=270,I=24):h<650?(R=320,I=30):h<750?(I=30,R=450):h<850?(R=550,I=35):h<1e3?(R=600,I=35):h<1200?(I=40,R=660):h<1455?(I=40,R=720):(R=1e3,I=48),L=S.transition().duration(250).ease(E.h),F=E.q().domain(E.p(s+1)).rangeRound([D.top,D.top+I*(s+1+.1)]).padding(.1),G=E.r([0,1],[D.left,R-D.right]),P={confirmed:"#a74222",recovered:"#244624",deaths:"#712424"},W=E.k(",d"),Y=E.x("%B %d, %Y"),function(){var e=Object(V.a)(M.a.mark((function e(){var t,a,n,r,i,o,s,l,d;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=E.u(c.current),a=J(t),n=U(t),r=H(t),i=q(t),b=!0,o=Object(_.a)(u),e.prev=7,o.s();case 9:if((s=o.n()).done){e.next=23;break}if(l=s.value,b){e.next=13;break}return e.abrupt("break",23);case 13:return d=t.transition().duration(250).ease(E.h),G.domain([0,l[1][0].value]),a(l,d),n(l,d),r(l,d),i(l,d),e.next=21,d.end();case 21:e.next=9;break;case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(7),o.e(e.t0);case 28:return e.prev=28,o.f(),e.finish(28);case 31:case"end":return e.stop()}}),e,null,[[7,25,28,31]])})));return function(){return e.apply(this,arguments)}}()().then((function(){})).catch((function(e){return console.log("wtf?",e)}));case 39:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(n.useEffect)((function(){s||o.current.getBoundingClientRect(),0!==e.length&&(""!==u&&"show"!==t?y(u):b=!1)}),[u,e,i,a]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"chart-container"},r.a.createElement("div",{className:"svg-container",ref:o},r.a.createElement("svg",{className:"chart",ref:c}),r.a.createElement(F,{props:v}),r.a.createElement("div",{id:"cases-btns",className:"cases-btns",style:{borderTop:"none",width:"70%",margin:"0 auto",textAlign:"end"},"data-aos-offset":"200","data-aos-delay":"500","data-aos-duration":"2000"},r.a.createElement("button",{className:"confirmed-btn btn",onClick:function(){return y("confirmed")}},"Confirmed"),r.a.createElement("button",{className:"recovered-btn btn",onClick:function(){return y("recovered")}},"Recovered"),r.a.createElement("button",{className:"deaths-btn btn",onClick:function(){return y("deaths")}},"Deaths")))))},W=a(68),X=a.n(W),Y=(a(128),function(){var e=Object(n.useRef)(),t=Object(n.useRef)(),a=U(t),i=Object(p.c)((function(e){return e.globalValues})),c=Object(p.c)((function(e){return e.timelineCases})),o=Object(p.c)((function(e){return e.timelineCasesLoaded})),s=Object(p.c)((function(e){return e.timestamp}));return Object(n.useEffect)((function(){X.a.init({duration:3e3});var n=a||t.current.getBoundingClientRect(),r=n.width,o=n.height,l=["confirmed","recovered","deaths"],u=[];if(s.forEach((function(e,t){l.forEach((function(a){c["".concat(a)].forEach((function(n,r){var i=u.find((function(t){return t.dateStr===e&&t.case===a}));void 0!==n[t+4]&&(void 0===i?u.push({case:a,xValue:Date.parse(e),dateObj:new Date(e),dateStr:e,yValue:parseInt(n[t+4])}):i.yValue+=parseInt(n[t+4]))}))}))})),0!==u.length){var d=E.n().key((function(e){return e.xValue})).entries(u),p=E.w().keys([0,1,2]).value((function(e,t){return e.values[t],e.values[t].yValue}))(d),m=E.u(e.current),v=E.t().domain([u[0].dateObj,u[u.length-1].dateObj]).range([0,r]);m.selectAll("*").remove();var f=m.append("g").attr("transform","translate(0, ".concat(o,")")).call(E.c(v).ticks(6));f.append("text").attr("class","label").attr("fill","#545454").attr("y",30).attr("x",r/2).text("Date");var h=i.confirmed+i.deaths+i.recovered,b=E.r().domain([0,h]).range([o,0]);m.append("g").call(E.d(b).ticks(7).tickFormat((function(e){return E.k(".1s")(e).replace("G","M")}))).append("text").attr("class","label").attr("fill","#545454").attr("y",-30).attr("x",-o/2).attr("transform","rotate(-90)").style("text-anchor","middle").text("Number of cases");var g=E.s().domain(l).range(["#ad4828","#244624","#712424"]);m.append("defs").append("svg:clipPath").attr("id","clip").append("svg:rect").attr("width",r).attr("height",o).attr("x",0).attr("y",0);var y=E.f().extent([[0,0],[r,o]]).on("end",(function(){var e=E.i.selection;if(e)v.domain([v.invert(e[0]),v.invert(e[1])]),C.select(".brush").call(y.move,null);else{if(!O)return O=setTimeout(T,350);v.domain(E.j(u,(function(e){return e.dateObj})))}f.transition().duration(1e3).call(E.c(v).ticks(6)),C.selectAll("path").transition().duration(1e3).attr("d",w)})),C=m.append("g").attr("clip-path","url(#clip)");C.append("g").attr("class","brush").call(y);var O,w=E.a().x((function(e){return v(e.data.values[0].dateObj)})).y0((function(e){return b(e[0])})).y1((function(e){return b(e[1])})),j=E.u("body").append("div").attr("class","tooltip").style("opacity",0);C.selectAll("mylayers").data(p).enter().append("path").attr("class",(function(e){return"myArea "+e.key})).attr("data-key",(function(e){return e.key})).style("fill",(function(e){return g(e.key)})).attr("d",w).on("mousemove",(function(e){var t=v.invert(E.m(this)[0]),a=String(t).slice(0,15),n=a.slice(3,15)+"<br />";e.forEach((function(e){String(e.data.values[0].dateObj).slice(0,15)===a&&e.data.values.forEach((function(e){n+='<span class="tooltip"></span>'.concat(e.case.charAt(0).toUpperCase()+e.case.slice(1),": ").concat(E.k(",")(e.yValue),"<br />")}))})),j.transition().duration(200).style("display","block").style("opacity",.9),j.html(n).style("left",E.i.pageX-70+"px").style("top",E.i.pageY-120+"px")})).on("mouseleave",(function(e){j.transition().duration(500).style("display","none")}))}function T(){O=null}}),[a,o]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"stacked-chart-container"},r.a.createElement("div",{"data-aos":"slide-up",className:"svg-stacked-container",ref:t},r.a.createElement("p",{className:"title-stacked-chart"},"Covid-19 Cases"),r.a.createElement("svg",{className:"stacked-chart",ref:e}))))}),J=function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"charts-container"},r.a.createElement(H,null),r.a.createElement(Y,null)))},q=a(9);a(129);var K=function(){return r.a.createElement(d.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(v,null),r.a.createElement(q.a,{path:["/","/barchart"],component:R}),r.a.createElement("div",{className:"container"},r.a.createElement(q.a,{path:"/",exact:!0,component:x}),r.a.createElement(q.a,{path:"/",exact:!0,component:N})),r.a.createElement(q.a,{path:"/charts",component:J})))},$=a(41),Q={activeCumulative:!0,activeTimeline:!1,allLocations:[],cases:"confirmed",computedData:[],dashboardTimeline:[],globalValues:{},hasErrors:!1,keyframes:[],locations:[],nowCase:3,numberOfCases:0,timelineCases:[],timelineCasesLoaded:!1,timelineLength:0,timestamp:[]},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;if("SET_DATE"===t.type){var a=Object(S.a)({},e);return a.date=t.date,a}if("ADD_LOCATIONS"===t.type){var n=Object(S.a)({},e);return n.locations=t.locations,n}if("ADD_ALLLOCATIONS"===t.type){var r=Object(S.a)({},e);return r.allLocations=t.allLocations,r}if("CHNAGE_CASES"===t.type){var i=Object(S.a)({},e);return i.cases=t.cases,i}if("ADD_GLOBALVALUES"===t.type){var c=Object(S.a)({},e);return c.globalValues=t.globalValues,c}if("TOGGLE_TIMELINE"===t.type){var o=Object(S.a)({},e);return o.activeCumulative=t.active.activeCumulative,o.activeTimeline=t.active.activeTimeline,o.nowCase=t.active.nowCase,o}if("TOGGLE_CUMULATIVE"===t.type){var s=Object(S.a)({},e);return s.activeCumulative=t.active.activeCumulative,s.activeTimeline=t.active.activeTimeline,s}if("ADD_TIMELINECASES"===t.type){var l=Object(S.a)({},e);return l.timelineCasesLoaded=!0,l.timelineCases=t.timelineCases,l}if("SET_DASHBOARDTIMELINE"===t.type){var u=Object(S.a)({},e);return u.dashboardTimeline=t.dashboardTimeline,u}if("SET_TIMELINELENGTH"===t.type){var d=Object(S.a)({},e);return d.timelineLength=t.timelineLength,d}if("ADD_NUMBEROFCASES"===t.type){var p=Object(S.a)({},e);return p.numberOfCases=t.numberOfCases,p}if("ADD_NOWCASE"===t.type){var m=Object(S.a)({},e);return m.nowCase=t.nowCase,m}if("ADD_INTERVALID"===t.type){var v=Object(S.a)({},e);return v.intervalId=t.intervalId,v}if("SET_MINRADIUS"===t.type){var f=Object(S.a)({},e);return f.minRadius=t.minRadius,f}if("SET_MAXRADIUS"===t.type){var h=Object(S.a)({},e);return h.maxRadius=t.maxRadius,h}if("SET_TIMESTAMP"===t.type){var b=Object(S.a)({},e);return b.timestamp=t.timestamp,b}if("SET_DATAARR"===t.type){var g=Object(S.a)({},e);return g.dataArr=t.dataArr,g}if("SET_KEYFRAMES"===t.type){var E=Object(S.a)({},e);return E.keyframes=t.keyframes,E}if("SET_PREV"===t.type){var y=Object(S.a)({},e);return y.prev=t.prev,y}if("SET_NEXT"===t.type){var C=Object(S.a)({},e);return C.prev=t.next,C}if("SET_FIRSTPAGE"===t.type){var O=Object(S.a)({},e);return O.displayFirstPage=t.displayFirstPage,O}return e};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ee=Object($.b)(Z);c.a.render(r.a.createElement(p.a,{store:ee},r.a.createElement(K,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[116,1,2]]]);
//# sourceMappingURL=main.9ce277dc.chunk.js.map